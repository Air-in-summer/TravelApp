<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:TravelApplication.ViewModels"            
             x:Class="TravelApplication.Pages.MajorPage.AddTripPage"
             x:DataType="viewmodels:AddTripViewModel"
             BackgroundColor="#F5F5F5"    
             x:Name="AddTripPages"
             Title="{Binding Title}">
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">

            <!-- Header -->
            <Label Text="Plan Your Trip"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="#212121"
                   Margin="0,10,0,10"/>

            <!-- Trip Title Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.1" Radius="8" Offset="0,2"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="8">
                    <Label Text="âœˆï¸ Trip Title" 
                           FontAttributes="Bold"
                           FontSize="14"
                           TextColor="#2196F3"/>
                    <Entry Text="{Binding Trip.Title}" 
                           Placeholder="e.g., Summer in Italy"
                           FontSize="16"
                           BackgroundColor="Transparent"/>
                </VerticalStackLayout>
            </Border>

            <!-- Description Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.1" Radius="8" Offset="0,2"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="8">
                    <Label Text="ðŸ“ Description" 
                           FontAttributes="Bold"
                           FontSize="14"
                           TextColor="#2196F3"/>
                    <Editor Text="{Binding Trip.Description}" 
                            Placeholder="Details about your adventure" 
                            HeightRequest="100" 
                            AutoSize="Disabled"
                            FontSize="16"
                            BackgroundColor="Transparent"/>
                </VerticalStackLayout>
            </Border>

            <!-- Dates Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.1" Radius="8" Offset="0,2"/>
                </Border.Shadow>
                <Grid ColumnDefinitions="*,*" ColumnSpacing="15" RowSpacing="10">
                    <VerticalStackLayout Grid.Column="0" Spacing="8">
                        <Label Text="ðŸ“… Start Date" 
                               FontAttributes="Bold"
                               FontSize="14"
                               TextColor="#4CAF50"/>
                        <Border StrokeThickness="1"
                                Stroke="#E0E0E0"
                                BackgroundColor="#FAFAFA"
                                Padding="10,5">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="8"/>
                            </Border.StrokeShape>
                            <DatePicker Date="{Binding Trip.StartDate}"/>
                        </Border>
                    </VerticalStackLayout>

                    <VerticalStackLayout Grid.Column="1" Spacing="8">
                        <Label Text="ðŸ“… End Date" 
                               FontAttributes="Bold"
                               FontSize="14"
                               TextColor="#F44336"/>
                        <Border StrokeThickness="1"
                                Stroke="#E0E0E0"
                                BackgroundColor="#FAFAFA"
                                Padding="10,5">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="8"/>
                            </Border.StrokeShape>
                            <DatePicker Date="{Binding Trip.EndDate}"/>
                        </Border>
                    </VerticalStackLayout>
                </Grid>
            </Border>

            <!-- Budget Card -->
            <Border StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.1" Radius="8" Offset="0,2"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="8">
                    <Label Text="ðŸ’° Budget ($)" 
                           FontAttributes="Bold"
                           FontSize="14"
                           TextColor="#FF9800"/>
                    <Entry Text="{Binding Trip.Budget}" 
                           Keyboard="Numeric" 
                           Placeholder="e.g., 2000"
                           FontSize="16"
                           BackgroundColor="Transparent"/>
                </VerticalStackLayout>
            </Border>

            <!-- Save Button -->
            <Button Text="ðŸ’¾ Save Trip" 
                    Clicked="OnSaveTripButtonClicked" 
                    Margin="0,10,0,0"
                    BackgroundColor="#2196F3"
                    TextColor="White"
                    FontAttributes="Bold"
                    FontSize="16"
                    HeightRequest="55"
                    CornerRadius="12">
                <Button.Shadow>
                    <Shadow Brush="#2196F3" Opacity="0.3" Radius="10" Offset="0,4"/>
                </Button.Shadow>
            </Button>

            <!-- Loading Indicator -->
            <ActivityIndicator IsVisible="{Binding IsBusy}" 
                             IsRunning="{Binding IsBusy}"
                             Color="#2196F3"
                             HeightRequest="40"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>